<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lab 1 Introduction to Landsat Image Processing | NRES 341: Intermediate Geomatics for Natural Resource Management</title>
  <meta name="description" content="Open Educational Resources for NRES 341 course at the University of British Columbia" />
  <meta name="generator" content="bookdown 0.45 and GitBook 2.6.7" />

  <meta property="og:title" content="Lab 1 Introduction to Landsat Image Processing | NRES 341: Intermediate Geomatics for Natural Resource Management" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Open Educational Resources for NRES 341 course at the University of British Columbia" />
  <meta name="github-repo" content="github.com/ubc-geomatics-community-of-practice/NRES341-Intermediate-Geomatics-for-Natural-Resource-Management/book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lab 1 Introduction to Landsat Image Processing | NRES 341: Intermediate Geomatics for Natural Resource Management" />
  
  <meta name="twitter:description" content="Open Educational Resources for NRES 341 course at the University of British Columbia" />
  

<meta name="author" content="Paul D. Pickell" />


<meta name="date" content="2025-12-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="landsat-image-classification.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Open Geomatics Community of Practice</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-use-these-resources"><i class="fa fa-check"></i>How to use these resources</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-get-involved"><i class="fa fa-check"></i>How to get involved</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="landsat-image-processing.html"><a href="landsat-image-processing.html"><i class="fa fa-check"></i><b>1</b> Introduction to Landsat Image Processing</a>
<ul>
<li class="chapter" data-level="" data-path="landsat-image-processing.html"><a href="landsat-image-processing.html#lab-overview"><i class="fa fa-check"></i>Lab Overview</a>
<ul>
<li class="chapter" data-level="" data-path="landsat-image-processing.html"><a href="landsat-image-processing.html#learning-objectives"><i class="fa fa-check"></i>Learning Objectives</a></li>
<li class="chapter" data-level="" data-path="landsat-image-processing.html"><a href="landsat-image-processing.html#deliverables"><i class="fa fa-check"></i>Deliverables</a></li>
<li class="chapter" data-level="" data-path="landsat-image-processing.html"><a href="landsat-image-processing.html#data"><i class="fa fa-check"></i>Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="landsat-image-processing.html"><a href="landsat-image-processing.html#task-1-data-types-projections"><i class="fa fa-check"></i>Task 1: Data Types &amp; Projections</a></li>
<li class="chapter" data-level="" data-path="landsat-image-processing.html"><a href="landsat-image-processing.html#task-2-cloud-and-shadow-masking"><i class="fa fa-check"></i>Task 2: Cloud and Shadow Masking</a></li>
<li class="chapter" data-level="" data-path="landsat-image-processing.html"><a href="landsat-image-processing.html#task-3-image-enhancement-and-focal-filters"><i class="fa fa-check"></i>Task 3: Image Enhancement and Focal Filters</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="landsat-image-classification.html"><a href="landsat-image-classification.html"><i class="fa fa-check"></i><b>2</b> Landsat Image Classification in ArcGIS Pro</a>
<ul>
<li class="chapter" data-level="" data-path="landsat-image-classification.html"><a href="landsat-image-classification.html#lab-overview-1"><i class="fa fa-check"></i>Lab Overview</a></li>
<li class="chapter" data-level="" data-path="landsat-image-classification.html"><a href="landsat-image-classification.html#learning-objectives-1"><i class="fa fa-check"></i>Learning Objectives</a></li>
<li class="chapter" data-level="" data-path="landsat-image-classification.html"><a href="landsat-image-classification.html#deliverables-1"><i class="fa fa-check"></i>Deliverables</a></li>
<li class="chapter" data-level="" data-path="landsat-image-classification.html"><a href="landsat-image-classification.html#data-1"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="landsat-image-classification.html"><a href="landsat-image-classification.html#task-1-prepare-data-for-analysis"><i class="fa fa-check"></i>Task 1: Prepare data for analysis</a></li>
<li class="chapter" data-level="" data-path="landsat-image-classification.html"><a href="landsat-image-classification.html#task-2-unsupervised-image-classification"><i class="fa fa-check"></i>Task 2: Unsupervised Image Classification</a></li>
<li class="chapter" data-level="" data-path="landsat-image-classification.html"><a href="landsat-image-classification.html#task-3-supervised-image-classification"><i class="fa fa-check"></i>Task 3: Supervised Image Classification</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lidar-forest-management.html"><a href="lidar-forest-management.html"><i class="fa fa-check"></i><b>3</b> LiDAR Point Clouds for Forest Management</a>
<ul>
<li class="chapter" data-level="" data-path="lidar-forest-management.html"><a href="lidar-forest-management.html#lab-overview-2"><i class="fa fa-check"></i>Lab Overview</a>
<ul>
<li class="chapter" data-level="" data-path="lidar-forest-management.html"><a href="lidar-forest-management.html#learning-objectives-2"><i class="fa fa-check"></i>Learning Objectives</a></li>
<li class="chapter" data-level="" data-path="lidar-forest-management.html"><a href="lidar-forest-management.html#deliverables-2"><i class="fa fa-check"></i>Deliverables</a></li>
<li class="chapter" data-level="" data-path="lidar-forest-management.html"><a href="lidar-forest-management.html#data-2"><i class="fa fa-check"></i>Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lidar-forest-management.html"><a href="lidar-forest-management.html#task-1-load-and-understand-lidar-data-in-a-map-project"><i class="fa fa-check"></i>Task 1: Load and understand LiDAR data in a Map Project</a></li>
<li class="chapter" data-level="" data-path="lidar-forest-management.html"><a href="lidar-forest-management.html#task-2-create-a-dem-dsm-and-chm"><i class="fa fa-check"></i>Task 2: Create a DEM, DSM and CHM</a></li>
<li class="chapter" data-level="" data-path="lidar-forest-management.html"><a href="lidar-forest-management.html#task-3-mapping-tree-tops"><i class="fa fa-check"></i>Task 3: Mapping Tree Tops</a></li>
<li class="chapter" data-level="" data-path="lidar-forest-management.html"><a href="lidar-forest-management.html#task-4-visualization-in-3d"><i class="fa fa-check"></i>Task 4: Visualization in 3D</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="terrain-hydrology-analysis.html"><a href="terrain-hydrology-analysis.html"><i class="fa fa-check"></i><b>4</b> Terrain and Hydology Analysis</a>
<ul>
<li class="chapter" data-level="" data-path="terrain-hydrology-analysis.html"><a href="terrain-hydrology-analysis.html#lab-overview-3"><i class="fa fa-check"></i>Lab Overview</a>
<ul>
<li class="chapter" data-level="" data-path="terrain-hydrology-analysis.html"><a href="terrain-hydrology-analysis.html#learning-objectives-3"><i class="fa fa-check"></i>Learning Objectives</a></li>
<li class="chapter" data-level="" data-path="terrain-hydrology-analysis.html"><a href="terrain-hydrology-analysis.html#deliverables-3"><i class="fa fa-check"></i>Deliverables</a></li>
<li class="chapter" data-level="" data-path="terrain-hydrology-analysis.html"><a href="terrain-hydrology-analysis.html#data-3"><i class="fa fa-check"></i>Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="terrain-hydrology-analysis.html"><a href="terrain-hydrology-analysis.html#task-1-understanding-dems"><i class="fa fa-check"></i>Task 1: Understanding DEMs</a></li>
<li class="chapter" data-level="" data-path="terrain-hydrology-analysis.html"><a href="terrain-hydrology-analysis.html#task-2-identifying-stream-networks"><i class="fa fa-check"></i>Task 2: Identifying Stream Networks</a></li>
<li class="chapter" data-level="" data-path="terrain-hydrology-analysis.html"><a href="terrain-hydrology-analysis.html#task-3-mapping-watersheds"><i class="fa fa-check"></i>Task 3: Mapping Watersheds</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sea-level-rise-suitability.html"><a href="sea-level-rise-suitability.html"><i class="fa fa-check"></i><b>5</b> Mapping suitability and sea level rise</a>
<ul>
<li class="chapter" data-level="" data-path="sea-level-rise-suitability.html"><a href="sea-level-rise-suitability.html#lab-overview-4"><i class="fa fa-check"></i>Lab Overview</a>
<ul>
<li class="chapter" data-level="" data-path="sea-level-rise-suitability.html"><a href="sea-level-rise-suitability.html#learning-objectives-4"><i class="fa fa-check"></i>Learning Objectives</a></li>
<li class="chapter" data-level="" data-path="sea-level-rise-suitability.html"><a href="sea-level-rise-suitability.html#deliverables-4"><i class="fa fa-check"></i>Deliverables</a></li>
<li class="chapter" data-level="" data-path="sea-level-rise-suitability.html"><a href="sea-level-rise-suitability.html#data-4"><i class="fa fa-check"></i>Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sea-level-rise-suitability.html"><a href="sea-level-rise-suitability.html#task-1-mapping-flood-hazard"><i class="fa fa-check"></i>Task 1: Mapping flood hazard</a></li>
<li class="chapter" data-level="" data-path="sea-level-rise-suitability.html"><a href="sea-level-rise-suitability.html#task-2-intersection"><i class="fa fa-check"></i>Task 2: Intersection</a></li>
<li class="chapter" data-level="" data-path="sea-level-rise-suitability.html"><a href="sea-level-rise-suitability.html#task-3-calculating-visualizing-suitability"><i class="fa fa-check"></i>Task 3: Calculating &amp; visualizing suitability</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NRES 341: Intermediate Geomatics for Natural Resource Management</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="landsat-image-processing" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Lab 1</span> Introduction to Landsat Image Processing<a href="landsat-image-processing.html#landsat-image-processing" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Written by
Hana Travers-Smith</p>
<div id="lab-overview" class="section level2 unnumbered hasAnchor">
<h2>Lab Overview<a href="landsat-image-processing.html#lab-overview" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The Landsat satellite program has been active since 1972 and represents one of the most valuable remote sensing datsets in environmental monitoring and ecology. The Landsat series of satellites measure passive reflectance from the Earth’s surface and atmosphere and is used in the fields of agriculture, forestry, geology and hydrology. In 2008, all Landsat data was made open to the public and this has triggered widespread uptake by governments and research groups across the world.</p>
<p>In this lab, you will work with images collected by the Landsat 8 to understand radiometric resolution and get a chance to practice image processing steps including masking clouds and cloud shadows and applying image enhancements.</p>
<p><img src="images/01-lsat.jpg" width="100%" style="display: block; margin: auto;" /></p>
<hr />
<div id="learning-objectives" class="section level3 unnumbered hasAnchor">
<h3>Learning Objectives<a href="landsat-image-processing.html#learning-objectives" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Understand radiometric resolution and how it relates to Digital Numbers</li>
<li>Learn how to resample rasters to common projections</li>
<li>Use the Landsat Quality Assurance Band to mask clouds and shadows</li>
<li>Understand how image enhancements and focal filters work</li>
</ul>
<hr />
</div>
<div id="deliverables" class="section level3 unnumbered hasAnchor">
<h3>Deliverables<a href="landsat-image-processing.html#deliverables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Screenshots of image metadata and histograms</li>
<li>Answers to 15 questions posed in the handout</li>
</ul>
<hr />
</div>
<div id="data" class="section level3 unnumbered hasAnchor">
<h3>Data<a href="landsat-image-processing.html#data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Two Landsat 8 Surface Reflectance images</li>
</ul>
<hr />
</div>
</div>
<div id="task-1-data-types-projections" class="section level2 unnumbered hasAnchor">
<h2>Task 1: Data Types &amp; Projections<a href="landsat-image-processing.html#task-1-data-types-projections" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You are given two Landsat Surface Reflectance images.</p>
<ul>
<li><strong>LC08_047026_20200830_02_T1_a.tif</strong></li>
<li><strong>LC08_047026_20200830_02_T1_b.tif</strong></li>
</ul>
<p>The filenames use the following naming pattern that tells you information about the data product and when the image was acquired: LXSS_PPPRRR_YYYYMMDD_CC_TX.tif</p>
<ul>
<li>L = Landsat</li>
<li>X = OLI/TIRS Sensor</li>
<li>S = Landsat 8 satellite</li>
<li>PPP = WRS path</li>
<li>RRR = WRS row</li>
<li>YYYYMMDD = Acquistion year, month, day</li>
<li>CC = Collection number</li>
<li>TX = Collection Category</li>
</ul>
<p>WRS path/row refer to a worldwide grid system, where each Landsat scene is assigned a specific path (longitude) and row (latitude) coordinate.</p>
<p><img src="images/01-wrs.jpg" width="75%" style="display: block; margin: auto;" /></p>
<p>Use the USGS resource to answer the following questions: ‘<a href="https://www.usgs.gov/faqs/what-naming-convention-landsat-collections-level-1-scenes" class="uri">https://www.usgs.gov/faqs/what-naming-convention-landsat-collections-level-1-scenes</a>’</p>
<div id="q1.-for-the-landsat-scenes-you-are-given-what-landsat-sensor-and-satellite-do-the-images-come-from-when-were-the-images-acquired-and-what-landsat-collection-number-are-they-found-in" class="section level5 unnumbered hasAnchor">
<h5>Q1. For the Landsat scenes you are given, what Landsat sensor and satellite do the images come from? When were the images acquired and what Landsat Collection number are they found in?<a href="landsat-image-processing.html#q1.-for-the-landsat-scenes-you-are-given-what-landsat-sensor-and-satellite-do-the-images-come-from-when-were-the-images-acquired-and-what-landsat-collection-number-are-they-found-in" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="q2.-data-in-landsat-collections-1-2-have-been-pre-processed-so-that-images-across-time-are-geometrically-and-radiometrically-consistent.-in-2-4-sentences-explain-what-this-means-and-why-it-is-important-for-detecting-environmental-changes." class="section level5 unnumbered hasAnchor">
<h5>Q2. Data in Landsat Collections 1 &amp; 2 have been pre-processed so that images across time are geometrically and radiometrically consistent. In 2-4 sentences explain what this means and why it is important for detecting environmental changes.<a href="landsat-image-processing.html#q2.-data-in-landsat-collections-1-2-have-been-pre-processed-so-that-images-across-time-are-geometrically-and-radiometrically-consistent.-in-2-4-sentences-explain-what-this-means-and-why-it-is-important-for-detecting-environmental-changes." class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="q3.-the-following-image-shows-the-spectral-profile-of-a-vegetated-surface-before-and-after-atmospheric-correction.-describe-the-differences-between-the-two-profiles-and-explain-the-properties-of-the-atmosphere-that-causes-this.-in-your-own-words-why-is-it-important-to-correct-for-atmospheric-effects-when-using-satellite-imagery-collected-at-different-times" class="section level5 unnumbered hasAnchor">
<h5>Q3. The following image shows the spectral profile of a vegetated surface before and after atmospheric correction. Describe the differences between the two profiles and explain the properties of the atmosphere that causes this. In your own words, why is it important to correct for atmospheric effects when using satellite imagery collected at different times?<a href="landsat-image-processing.html#q3.-the-following-image-shows-the-spectral-profile-of-a-vegetated-surface-before-and-after-atmospheric-correction.-describe-the-differences-between-the-two-profiles-and-explain-the-properties-of-the-atmosphere-that-causes-this.-in-your-own-words-why-is-it-important-to-correct-for-atmospheric-effects-when-using-satellite-imagery-collected-at-different-times" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><img src="images/01-nocorr.jpg" width="50%" style="display: block; margin: auto;" /></p>
<p><img src="images/01-corr.jpg" width="50%" style="display: block; margin: auto;" /></p>
<p><strong>Step 1:</strong> Import the following rasters <strong>LC08_047026_20200830_SR_A.tif</strong> and <strong>LC08_047026_20200830_SR_B.tif</strong> into a new Map Project in ArcGIS Pro. Name the project Lab 1 and save it in the default documents folder on your computer, typically <code>C:\Users\YourUsername\Documents\ArcGIS\Projects\Lab2.</code></p>
<p>The bands are as follows:</p>
<ul>
<li>SR_B2 = Blue</li>
<li>SR_B3 = Green</li>
<li>SR_B4 = Red</li>
<li>SR_B5 = NIR</li>
<li>SR_B6 = SWIR1</li>
</ul>
<p>Experiment with the <strong>Symbology</strong> tab.</p>
</div>
<div id="screenshot-1.-upload-a-screenshot-of-raster-a-in-rgb-true-color." class="section level5 unnumbered hasAnchor">
<h5>Screenshot 1. Upload a screenshot of Raster A in RGB true-color.<a href="landsat-image-processing.html#screenshot-1.-upload-a-screenshot-of-raster-a-in-rgb-true-color." class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="screenshot-2.-upload-a-screenshot-of-raster-a-in-false-color-infrared-with-nir-in-the-red-channel." class="section level5 unnumbered hasAnchor">
<h5>Screenshot 2. Upload a screenshot of Raster A in false color infrared, with NIR in the red channel.<a href="landsat-image-processing.html#screenshot-2.-upload-a-screenshot-of-raster-a-in-false-color-infrared-with-nir-in-the-red-channel." class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Navigate to &gt; Properties &gt; General and use the image metadata to answer the following questions about the Surface Reflectance rasters.</p>
<p><img src="images/01-arc.jpg" width="75%" style="display: block; margin: auto;" /></p>
</div>
<div id="q4.-what-are-the-projections-of-raster-a-and-raster-b-what-are-the-data-types" class="section level5 unnumbered hasAnchor">
<h5>Q4. What are the projections of raster A and raster B? What are the data types?<a href="landsat-image-processing.html#q4.-what-are-the-projections-of-raster-a-and-raster-b-what-are-the-data-types" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="q5.-define-radiometric-resolution-and-describe-how-it-relates-to-the-range-of-possible-values-in-the-image." class="section level5 unnumbered hasAnchor">
<h5>Q5. Define <strong>radiometric resolution</strong> and describe how it relates to the range of possible values in the image.<a href="landsat-image-processing.html#q5.-define-radiometric-resolution-and-describe-how-it-relates-to-the-range-of-possible-values-in-the-image." class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="q6.-how-many-possible-values-would-be-present-in-an-8-bit-16-bit-and-32-bit-image-what-are-the-bit-types-of-rasters-a-and-b-hint-look-at-the-minmax-values-of-the-rasters" class="section level5 unnumbered hasAnchor">
<h5>Q6. How many possible values would be present in an 8-bit, 16-bit and 32-bit image? What are the bit-types of rasters A and B (HINT: look at the min/max values of the rasters)?<a href="landsat-image-processing.html#q6.-how-many-possible-values-would-be-present-in-an-8-bit-16-bit-and-32-bit-image-what-are-the-bit-types-of-rasters-a-and-b-hint-look-at-the-minmax-values-of-the-rasters" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Zoom in so you can see individual pixels and notice how the different raster projections change how the pixels align. Raster A is in the correct UTM Zone projection, while raster B is not.</p>
</div>
<div id="q7-imagine-you-want-to-see-how-the-reflectance-of-a-small-forest-stand-changes-over-time.-why-would-it-be-important-that-your-imagery-is-displayed-in-the-same-projection" class="section level5 unnumbered hasAnchor">
<h5>Q7: Imagine you want to see how the reflectance of a small forest stand changes over time. Why would it be important that your imagery is displayed in the same projection?<a href="landsat-image-processing.html#q7-imagine-you-want-to-see-how-the-reflectance-of-a-small-forest-stand-changes-over-time.-why-would-it-be-important-that-your-imagery-is-displayed-in-the-same-projection" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><strong>Step 2:</strong> Convert raster B to the <strong>NAD 1983 UTM Zone 10</strong> projection using the <strong>Project Raster</strong> tool and save the result as a new raster. (Analysis &gt; Tools &gt; search for Project Raster)</p>
<p><img src="images/01-proj.jpg" width="40%" style="display: block; margin: auto;" /></p>
</div>
<div id="screenshot-3.-upload-a-screenshot-of-the-spatial-reference-information-in-the-general-tab-for-the-new-raster." class="section level5 unnumbered hasAnchor">
<h5>Screenshot 3. Upload a screenshot of the Spatial Reference information (in the General tab) for the new raster.<a href="landsat-image-processing.html#screenshot-3.-upload-a-screenshot-of-the-spatial-reference-information-in-the-general-tab-for-the-new-raster." class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="q8.-which-resampling-method-is-most-appropriate-for-continuous-data-i.e.-temperature-elevation-and-why-what-about-discrete-data-i.e.-land-cover-classes-categories" class="section level5 unnumbered hasAnchor">
<h5>Q8. Which resampling method is most appropriate for continuous data (i.e. temperature, elevation) and why? What about discrete data (i.e. land cover classes, categories)?<a href="landsat-image-processing.html#q8.-which-resampling-method-is-most-appropriate-for-continuous-data-i.e.-temperature-elevation-and-why-what-about-discrete-data-i.e.-land-cover-classes-categories" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<hr />
</div>
</div>
<div id="task-2-cloud-and-shadow-masking" class="section level2 unnumbered hasAnchor">
<h2>Task 2: Cloud and Shadow Masking<a href="landsat-image-processing.html#task-2-cloud-and-shadow-masking" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Next, we will use the Quality Assurance (QA) band to mask out pixels covered by clouds and cloud shadows.</p>
<p>Landsat (and many other types of remote sensing imagery) use a <strong>Bitmask</strong> to store information related to the quality of a pixel. For each pixel, a bitmask is a series of classifications for whether the pixel contains clouds, snow, shadows, haze, and other atmospheric artefacts we want to remove. Bitmasks also contain information on the level of confidence in the pixel classification. All this information is stored in an integer that can be transformed into it’s binary counterpart composed of 0’s and 1’s. Using a bitmask reduces the filesize of a raster, as the integer values are shorter than their binary conunterparts.</p>
<p>The Landsat QA_BAND is a 15-bit integer, meaning that the pixel values can range from 0 to 2^15. There are 15 different indicators stored in this band that relate to pixel quality (clouds, haze etc…). The full list can be found here (expand the bitmask for QA_PIXEL section): <a href="https://developers.google.com/earth-engine/datasets/catalog/LANDSAT_LC08_C02_T1_TOA#bands" class="uri">https://developers.google.com/earth-engine/datasets/catalog/LANDSAT_LC08_C02_T1_TOA#bands</a></p>
<p><img src="images/01-qabits.jpg" width="60%" style="display: block; margin: auto;" /></p>
<p>To interpret the pixel value of a bitmask first convert the integer to binary:</p>
<p>For example: <code>22280</code> becomes <code>101011100001000</code></p>
<p>Starting from the right, each value is assigned a <strong>Bit Position</strong> starting at 0 and counting up to the total number of values.</p>
<p>If we want to know if a pixel is cloudy we need to look at bit 3. In this example, bit 3 is represented by the <strong>fourth number from the right</strong>, and has a value of <strong>1</strong>.</p>
<p><img src="images/01-bit3.jpg" width="60%" style="display: block; margin: auto;" /></p>
<p>According to the bitmask, a value of <code>1</code> in bit position 3 indicates a pixel with high confidence cloud.</p>
<p>You will notice that some of the indicators are represented by multiple bit positions. For example, bits 8-9 encode the degree of confidence in the cloud classification.</p>
<p><img src="images/01-bit89.jpg" width="60%" style="display: block; margin: auto;" /></p>
<p>For our example pixel, bit positions 8-9 contain the values <code>11</code>, converting this binary number back to integer gives the value <code>3</code>, which corresponds to High confidence.</p>
<p>Use the following online tool to convert between integer and binary numbers and answer the following question: <a href="https://www.rapidtables.com/convert/number/binary-to-decimal.html" class="uri">https://www.rapidtables.com/convert/number/binary-to-decimal.html</a></p>
<div id="q9.-for-a-pixel-with-the-integer-value-23888-what-is-the-classification-for-bit-3-cloud-and-bit-4-cloud-shadow-what-about-bit-10-11-cloud-shadow-confidence" class="section level5 unnumbered hasAnchor">
<h5>Q9. For a pixel with the integer value 23888, what is the classification for Bit 3: Cloud and Bit 4: Cloud Shadow? What about Bit 10-11: Cloud Shadow Confidence?<a href="landsat-image-processing.html#q9.-for-a-pixel-with-the-integer-value-23888-what-is-the-classification-for-bit-3-cloud-and-bit-4-cloud-shadow-what-about-bit-10-11-cloud-shadow-confidence" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><strong>Step 1:</strong> Next, we will create a <strong>mask</strong> representing pixels we want to keep, then use it to remove cloudy pixels from <strong>raster A</strong>. First use the <strong>Make Raster Layer</strong> tool to extract the QA band from the multiband raster.</p>
<ul>
<li>Input raster: LC08_047026_20200830_SR_A.tif</li>
<li>Output raster name: QA_band</li>
<li>Bands: 6</li>
<li>leave the other settings as defaults. &gt; Run</li>
</ul>
<p>Change the <strong>Primary Symbology</strong> of the new QA_band so that each integer is assigned a <strong>unique</strong> color. This will help you see what values represent clear pixels. Your output should look something like the following:</p>
<p><img src="images/01-qaband.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>Pixels with clear skies are represented by integers <strong>21824 (land)</strong> and <strong>21952 (water)</strong>.</p>
<p><strong>Step 2:</strong> We will use the <strong>Reclassify (Spatial Analyst)</strong> tool to create a new raster where clear sky pixels have a value of 1 and all other pixels have a value of 0.</p>
<ul>
<li>Input raster: QA_band</li>
<li>Reclass field: VALUE</li>
<li>Output raster: Raster_mask</li>
</ul>
<p>Click <strong>Unique</strong>, for pixel values of 21824 and 21952 set the <strong>New</strong> value to <strong>1</strong> and <strong>0</strong> for everything else.</p>
<p><img src="images/01-reclass.jpg" width="242" style="display: block; margin: auto;" /></p>
<p>You should now have a raster that looks like this:</p>
<p><img src="images/01-rastmask.jpg" width="556" style="display: block; margin: auto;" /></p>
<p>To create our mask we will convert this raster to polygon features. Navigate to Analysis &gt; Tools &gt; Raster to Polygon.
- Input Raster: Raster_mask
- Field: Value
- Output Polygon Features: Polygon_mask
- UNCHECK Simplify polygons (this will ensure polygons will align with the raster cells)</p>
<p>Click Run.</p>
<p>For the new polygon mask layer, use the <strong>Select by Attributes</strong> tool to select the polygons corresponding to clouds using the expression: <code>gridcode = 0</code>, then delete these features in the attribute table. Make sure to save your edits.</p>
<p><strong>Step 3:</strong> We are now ready to mask clouds and shadows from the Landsat scene. Navigate to Analysis &gt; Tools &gt; Extract by Mask</p>
<ul>
<li>Input raster: <strong>LC08_047026_20200830_SR_A.tif</strong></li>
<li>Input raster or feature mask data: Polygon_mask</li>
<li>Output raster: masked_scene</li>
</ul>
<p>Click Run.</p>
</div>
<div id="screenshot-4.-upload-a-screenshot-of-your-masked-landsat-scene-displayed-as-false-color-infrared.-make-sure-you-tun-off-the-basemap-layer-so-the-cloud-mask-is-visible.-note-that-the-bands-have-been-renamed-1-6-corresponding-to-b-g-r-nir-swir-and-the-qa-band." class="section level5 unnumbered hasAnchor">
<h5>Screenshot 4. Upload a screenshot of your masked Landsat scene displayed as false color infrared. Make sure you tun off the basemap layer, so the cloud mask is visible. Note that the bands have been renamed 1-6 corresponding to B, G, R, NIR, SWIR, and the QA band.<a href="landsat-image-processing.html#screenshot-4.-upload-a-screenshot-of-your-masked-landsat-scene-displayed-as-false-color-infrared.-make-sure-you-tun-off-the-basemap-layer-so-the-cloud-mask-is-visible.-note-that-the-bands-have-been-renamed-1-6-corresponding-to-b-g-r-nir-swir-and-the-qa-band." class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="q10.-if-you-did-not-have-the-qa-band-what-landsat-bandsspectral-properties-could-you-use-to-identify-cloudy-pixels" class="section level5 unnumbered hasAnchor">
<h5>Q10. If you did not have the QA band, what Landsat bands/spectral properties could you use to identify cloudy pixels?<a href="landsat-image-processing.html#q10.-if-you-did-not-have-the-qa-band-what-landsat-bandsspectral-properties-could-you-use-to-identify-cloudy-pixels" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<hr />
</div>
</div>
<div id="task-3-image-enhancement-and-focal-filters" class="section level2 unnumbered hasAnchor">
<h2>Task 3: Image Enhancement and Focal Filters<a href="landsat-image-processing.html#task-3-image-enhancement-and-focal-filters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Step 1:</strong> View the NIR band of the <strong>cloud masked image in greyscale</strong>.</p>
<p>Symbology &gt; change Primary Symbology to Stretch &gt; Set the band to SR_Band4. Notice which land cover types appear bright, and which appear dark.</p>
<div id="q11.-what-do-the-light-and-dark-areas-of-the-nir-image-represent-how-could-you-use-this-image-to-identify-vegetation-and-urban-areas" class="section level5 unnumbered hasAnchor">
<h5>Q11. What do the light and dark areas of the NIR image represent? How could you use this image to identify vegetation and urban areas?<a href="landsat-image-processing.html#q11.-what-do-the-light-and-dark-areas-of-the-nir-image-represent-how-could-you-use-this-image-to-identify-vegetation-and-urban-areas" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Image enhancement makes it easier to see differences in light/dark areas of an image and aids in visual interpretation. For example, an 8-bit image can contain brightness values that range from 0-255. However, the range of values on a raw image may be smaller (i.e. 50-200), thus this image will have <strong>less contrast</strong> between the darkest and lightest regions, and will appear more homogeneous. A common image enhancement is called a <strong>linear contrast stretch</strong> which remaps the values of an image to cover the full dynamic range. Some image enhancements will first remove the highest and lowest values before stretching to get rid of potential outliers.</p>
<p><img src="images/01-stretch.jpg" width="352" style="display: block; margin: auto;" /></p>
</div>
<div id="screenshot-5.-upload-a-screenshot-of-the-histogram-of-nir-surface-reflectance-values." class="section level5 unnumbered hasAnchor">
<h5>Screenshot 5. Upload a screenshot of the histogram of NIR surface reflectance values.<a href="landsat-image-processing.html#screenshot-5.-upload-a-screenshot-of-the-histogram-of-nir-surface-reflectance-values." class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Right-click on the raster layer in the Contents pane &gt; Create Chart &gt; Histogram. Set the variable to the NIR band.</p>
</div>
<div id="q12.-what-is-a-histogram-in-the-context-of-a-remote-sensing-image-what-do-the-x-and-y-axes-represent-what-is-the-mean-value-of-the-cloud-masked-nir-image" class="section level5 unnumbered hasAnchor">
<h5>Q12. What is a histogram in the context of a remote sensing image? What do the X and Y axes represent? What is the mean value of the cloud masked NIR image?<a href="landsat-image-processing.html#q12.-what-is-a-histogram-in-the-context-of-a-remote-sensing-image-what-do-the-x-and-y-axes-represent-what-is-the-mean-value-of-the-cloud-masked-nir-image" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><strong>Step 2:</strong> Next, we will change the image enhancement in the Symbology tab. Click the histogram symbol.</p>
<p><img src="images/01-symbol.jpg" width="75%" style="display: block; margin: auto;" /></p>
<p>First, change the stretch type to <strong>Minimum-Maximum</strong> this stretches the image across the full range of values. Next, experiment with moving the sliders along the bottom of the histogram, this will change the minimum and maximum values displayed in the image, and the linear stretch will be applied across this new range. Notice how the image on the map changes.</p>
<p>The grey bars in the background show the original distribution of the values, and the red bars show the stretched values. You can see that applying this transformation increases the range of brightness values across the image.</p>
<p><img src="images/01-minmax.jpg" width="75%" style="display: block; margin: auto;" /></p>
<p>See the following link for more information about the strech types available in ArcPro: <a href="https://pro.arcgis.com/en/pro-app/latest/help/data/imagery/raster-display-ribbon.htm" class="uri">https://pro.arcgis.com/en/pro-app/latest/help/data/imagery/raster-display-ribbon.htm</a></p>
</div>
<div id="q13.-describe-how-applying-a-linear-stretch-changes-the-appearance-of-the-imagery.-what-happens-as-you-decrease-the-maximum-value" class="section level5 unnumbered hasAnchor">
<h5>Q13. Describe how applying a linear stretch changes the appearance of the imagery. What happens as you decrease the maximum value?<a href="landsat-image-processing.html#q13.-describe-how-applying-a-linear-stretch-changes-the-appearance-of-the-imagery.-what-happens-as-you-decrease-the-maximum-value" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Next, we will explore how <strong>focal filters</strong> work and apply a <strong>Sharpening</strong> and <strong>Smoothing</strong> filter. Focal filters change the pixel values in an image by considering the values of the surrounding pixels.</p>
<p>First, a focal window is defined around a target pixel. In a raster image this is usually the 8 adjacent pixels that touch the target pixel (forming a 3x3 grid). The values of the target pixel and pixels in the focal window are used to calculate a new value for the target pixel. In the example below, the focal filter assigns the target pixel (green) the value of the maximum value in the focal window (blue). The window then moves across the image, and every pixel in the image is transformed to a new value.</p>
<p><img src="images/01-focalmax.jpg" width="75%" style="display: block; margin: auto;" /></p>
<p>Another common filter calculates the <strong>mean</strong> value of the pixels in the window:</p>
</div>
<div id="q14.-use-the-following-matrix-to-calculate-the-target-pixel-value-green-using-a-3x3-mean-filter." class="section level5 unnumbered hasAnchor">
<h5>Q14. Use the following matrix to calculate the target pixel value (green) using a <strong>3x3 mean filter</strong>.<a href="landsat-image-processing.html#q14.-use-the-following-matrix-to-calculate-the-target-pixel-value-green-using-a-3x3-mean-filter." class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><img src="images/01-focalmean.jpg" width="50%" style="display: block; margin: auto;" /></p>
<p>More advanced filters use <strong>weighted</strong> functions, where the pixels in the window are multiplied by a weighting factor that makes them more or less influential in calculating the target value. <strong>Shapening</strong> and <strong>Smoothing</strong> filters use weighted means to enhance or smooth the edges of features in an image. For more information see: <a href="https://desktop.arcgis.com/en/arcmap/latest/manage-data/raster-and-images/convolution-function.htm" class="uri">https://desktop.arcgis.com/en/arcmap/latest/manage-data/raster-and-images/convolution-function.htm</a></p>
<p><strong>Step 3:</strong> Apply a 3x3 <strong>Sharpening</strong> and <strong>Smoothing</strong> filter to the cloud masked image using the <strong>Convolution Tool</strong> in the Raster Functions menu.</p>
</div>
<div id="screenshot-6.-upload-a-screenshot-of-the-sharpened-image." class="section level5 unnumbered hasAnchor">
<h5>Screenshot 6. Upload a screenshot of the sharpened image.<a href="landsat-image-processing.html#screenshot-6.-upload-a-screenshot-of-the-sharpened-image." class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="screenshot-7.-upload-a-screeenshot-of-the-smoothed-image." class="section level5 unnumbered hasAnchor">
<h5>Screenshot 7. Upload a screeenshot of the smoothed image.<a href="landsat-image-processing.html#screenshot-7.-upload-a-screeenshot-of-the-smoothed-image." class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="q15.-describe-how-the-sharpened-and-smoothed-images-differ-in-terms-of-the-variation-in-pixel-values.-give-an-example-of-how-each-filter-might-enhance-the-image-interpretation." class="section level5 unnumbered hasAnchor">
<h5>Q15. Describe how the sharpened and smoothed images differ in terms of the variation in pixel values. Give an example of how each filter might enhance the image interpretation.<a href="landsat-image-processing.html#q15.-describe-how-the-sharpened-and-smoothed-images-differ-in-terms-of-the-variation-in-pixel-values.-give-an-example-of-how-each-filter-might-enhance-the-image-interpretation." class="anchor-section" aria-label="Anchor link to header"></a></h5>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="landsat-image-classification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/ubc-geomatics-community-of-practice/NRES341-Intermediate-Geomatics-for-Natural-Resource-Management/edit/main/01-landsat-image-processing.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": "https://github.com/ubc-geomatics-community-of-practice/NRES341-Intermediate-Geomatics-for-Natural-Resource-Management/blob/main/01-landsat-image-processing.Rmd",
    "text": null
  },
  "download": ["ubc-nres-341-intermediate-geomatics-for-natural-resource-management.pdf"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
